# 지하철 노선도 미션
[ATDD 강의](https://edu.nextstep.camp/c/R89PYi5H) 실습을 위한 지하철 노선도 애플리케이션


## 요구사항

### 실습

### 1단계 - 지하철 구간 추가 개선 기능
**인수 테스트**

- [x] **노선의 가장 앞에 새 구간을 추가한다.**   
  `Given` 노선이 있고   
  `When` 새로운 구간의 하행역을 기존 노선의 상행역으로 지정하면   
  `Then` 노선이 추가된다


- [x] **노선의 가장 뒤에 새 구간을 추가한다.**   
  `Given` 노선이 있고   
  `When` 새로운 구간의 상행역을 기존 노선의 하행역으로 지정하면   
  `Then` 노선이 추가된다


- [x] **노선의 중간에 상행역이 같은 새 구간을 추가한다.**   
  `Given` 노선이 있고   
  `When` 새로운 구간의 상행역과 기존 노선의 역이 같고 새로운 구간의 하행역은 노선에 없으면   
  `Then` 노선이 추가된다


- [x] ***노선의 중간에 하행역이 같은 새 구간을 추가한다.***   
  `Given` 노선이 있고   
  `When` 새로운 구간의 하행역과 기존 노선의 역이 같고 새로운 구간의 상행역은 노선에 없으면   
  `Then` 노선이 추가된다


- [x] **노선의 길이를 넘는 구간은 추가할 수 없다.**   
  `Given` 노선이 있고   
  `When` 기존 구간 사이에 구간을 추가 할 때   
  `When` 새로운 구간의 길이가 기존 구간의 길이 이상이면   
  `Then` 노선에 추가되지 않는다.


- [x] **상행역과 하행역 모두가 노선에 이미 존재하는 구간은 추가 할 수 없다.**   
  `Given` 노선이 있고   
  `When` 기존 구간 사이에 구간을 추가 할 때   
  `When` 상행역과 하행역이 모두 노선의 구간에 존재하면   
  `Then` 노선에 추가되지 않는다.


- [x] **상행역과 하행역 모두가 노선에 존재하지 않는 구간은 추가 할 수 없다.**   
  `Given` 노선이 있고   
  `When` 새로운 구간의 상행역과 하행역이 모두 기존 노선에 존재하지 않으면   
  `Then` 노선에 추가되지 않는다.

**단위 테스트**

- [x] 구간 추가 기능   
  `Given` 구간이 없는 노선에   
  `When` 구간을 추가 하면   
  `Then` 구간이 추가 된다.

- [x] 구간 추가 기능 : 노선 앞   
  `Given` 구간이 있는 노선에   
  `When` 구간의 가장 앞에 구간을 추가 하면   
  `Then` 구간이 추가 된다.

- [x] 구간 추가 기능 : 노선 뒤   
  `Given` 구간이 있는 노선에   
  `When` 구간의 가장 뒤에 구간을 추가 하면   
  `Then` 구간이 추가 된다.

- [x] 노선 추가 기능 : 역 중복   
  `Given` 구간이 있는 노선에   
  `When` 노선에 상행역과 하행역이 모두 존재하는 구간을 추가하면   
  `Then` 구간이 추가되지 않는다.

- [x] 노선 추가 기능 : 역 없음   
  `Given` 구간이 있는 노선에   
  `When` 노선에 상행역과 하행역이 모두 존재하지 않는 구간을   
  `Then` 구간이 추가되지 않는다.

- [x] 역 목록 조회 기능   
  `Given` 구간을 가진 노선이 있을 때   
  `When` 상행선과 하행선을 요청하면   
  `Then` 역 목록이 반환된다.

- [x] 역으로 구간 제거 기능   
  `Given` 구간을 가진 노선이 있을 떄   
  `When` 구간을 삭제하면   
  `Then` 노선의 구간이 삭제된다

- [x] 역으로 구간 제거 기능 : 최소 구간   
  `Given` 1개의 구간을 가진 노선이 있을 떄   
  `When` 구간을 삭제하면   
  `Then` 노선의 구간이 삭제 되지 않는다.

- [x] 역으로 구간 제거 기능 : 구간 중간 삭제   
  `Given` 구간을 가진 노선이 있을 떄   
  `When` 노선의 중간 역인 구간을 삭제하면   
  `Then` 구간이 삭제 되지 않는다.   

### 2단계 - 지하철 구간 제거 기능 개선

**인수 테스트**
- [x] 구간의 중간 역을 제거할 수 없다. -> 제거   
- [x] 노선의 중간 구간을 제거한다.   
`Given` 구간이 3개인 노선이 있고   
`When` 중간 구간을 삭제 하면   
`Then` 중간 구간이 삭제 된다.   

- [x] 노선의 가장 앞 구간을 삭제한다.   
`Given` 3개의 역이 등록된 구간을 가진 노선이 있고   
`When` 노선의 가장 앞의 구간을 제거하면   
`Then` 구간이 삭제되고   
`Then` 2개의 역을 가진 노선이 된다   

- [x] 노선의 가장 뒤 구간을 삭제한다.   
`Given` 3개의 역이 등록된 구간을 가진 노선이 있고   
`When` 노선의 가장 뒤의 구간을 제거하면   
`Then` 구간이 삭제되고   
`Then` 2개의 역을 가진 노선이 된다   

**단위 테스트**
- [x] 해당 구간의 하행에 새로운 구간을 추가   
`Given` 상행역과 하행역을 가진 기존 구간이 있고   
`When` 새 구간이 주어지면   
`Then` 새 구간의 상행역은 기존 구간의 하행역이 된다.   
`Then` 새로 들어온 구간의 길이 만큼 기존 구간의 길이가 줄어든다   

- [x] 해당 구간의 상행에 새로운 구간을 추가   
`Given` 상행역과 하행역을 가진 기존 구간이 있고   
`When` 새 구간이 주어지면   
`Then` 새 구간의 하행역은 기존 구간의 상행역이 된다.   
`Then` 새로 들어온 구간의 길이 만큼 기존 구간의 길이가 줄어든다   

- [x] 기존 구간 이상의 길이는 추가되지 않음   
`Given` 기존 구간이 있고   
`When` 기존 구간 보다 긴 새 구간을 추가하려고 하면   
`Then` 추가되지 않는다.   

- [x] 구간의 하행역과 이어진 구간의 하행역을 해당 구간의 하행역으로 이동   
`Given` 2개의 이어진 구간이 있고   
`When` 뒷 구간의 하행역을 옮기면   
`Then` 2번째 구간의 하행역을 1번째 구간의 하행역으로 옮기고   
`Then` 2번째 구간의 길이 만큼 1번째 구간의 길이를 늘린다.   

### 3단계 - 경로 조회 기능 

**인수 테스트**

- [x] 같은 노선의 경로를 조회한다   
  `Given` 2개의 구간을 가진 노선이 있고   
  `When` 노선의 상행역과 하행역으로 경로를 조회하면   
  `Then` 3개의 역이 출력된다   
  `Then` 2 구간의 모든 거리의 합이 출력된다

- [x] 다른 노선에 있는 지하철 경로를 조회한다   
  `Given` 3개의 서로 연결된 노선이 있고   
  `When` 다른 노선을 모두 통과하는 경로를 조회하면   
  `Then` 경로 조회 결과가 나온다   
  `Then` 구간의 모든 거리의 합이 출력된다

- [x] 연결되지 않은 경로를 조회한다   
  `Given` 3개의 서로 연결된 노선이 있고   
  `When` 연결되지 않은 경로를 조회하면   
  `Then` 경로가 조회되지 않는다

- [x] 시작과 끝이 같은 역의 경로를 조회한다   
  `Given` 3개의 서로 연결된 노선이 있고   
  `When` 시작과 끝을 같은 역을 조회하면   
  `Then` 경로가 조회되지 않는다

- [x] 존재하지 않는 역으로 경로를 조회한다   
  `Given` 3개의 서로 연결된 노선이 있고   
  `When` 존재 하지 않는 역으로 경로를 조회하면   
  `Then` 경로가 조회되지 않는다

**단위 테스트**
- [x] 경로 조회   
  `Given` 구간이 있을 때   
  `When` 경로 조회를 하면   
  `Then` 경로 내 역이 목록으로 반환된다   
  `Then` 경로의 총 길이가 반환된다

- [x] 경로 조회 : 요청 구간 동일   
  `Given` 구간이 있을 때   
  `When` 동일한 구간을 조회하면   
  `Then` 조회 되지 않는다.

- [x] 경로 조회 : 연결되지 않은 구간   
  `Given` 구간이 있을 때   
  `When` 연결되지 않은 구간을 조회하면   
  `Then` 조회 되지 않는다.

- [x] 경로 조회 : 존재하지 않는 역   
  `Given` 구간이 있을 때   
  `When` 존재하지 않는 역을 조회하면   
  `Then` 조회 되지 않는다.   




