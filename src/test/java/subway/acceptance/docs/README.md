# 📚 지하철 관리 기능 인수 조건

```
Feature: 구간 등록 기능


    Scenario: 새로운 구간을 등록한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 노선과 1개의 구간이 등록되어 있다.
        When: 구간을 추가한다.
        Then: 성공(200 OK) 응답을 받는다.
        And: 노선의 총 구간 길이를 검증한다.
        And: 구간의 지하철역들을 검증한다.
      
        
    Scenario: 새로운 역을 상행역 기준으로 기존 구간 사이에 등록한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 노선과 1개의 구간이 등록되어 있다.
        When: 구간을 추가한다.
        Then: 성공(200 OK) 응답을 받는다.
        And: 노선의 총 구간 길이를 검증한다.
        And: 구간의 지하철역들을 검증한다.
        
   
    Scenario: 새로운 역을 하행역 기준으로 기존 구간 사이에 등록한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 노선과 1개의 구간이 등록되어 있다.
        When: 구간을 추가한다.
        Then: 성공(200 OK) 응답을 받는다.
        And: 노선의 총 구간 길이를 검증한다.
        And: 구간의 지하철역들을 검증한다.
        
        
   Scenario: 새로운 역을 상행종점역으로 등록한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 노선과 1개의 구간이 등록되어 있다.
        When: 구간을 추가한다.
        Then: 성공(200 OK) 응답을 받는다.
        And: 노선의 총 구간 길이를 검증한다.
        And: 구간의 지하철역들을 검증한다.
        
        
   Scenario: 기존 역 사이의 길이보다 큰 새로운 역을 등록한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 노선과 1개의 구간이 등록되어 있다.
        When: 기존 역 사이 길이보다 긴 구간을 추가한다.
        Then: 실패(400 Bad Request) 응답을 받는다.
        And: '구간을 등록할 수 없습니다.' 오류 메시지를 검증한다.
        
        
   Scenario: 기존 역 사이의 길이와 같은 새로운 역을 등록한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 노선과 1개의 구간이 등록되어 있다.
        When: 기존 역 사이 길이와 같은 구간을 추가한다.
        Then: 실패(400 Bad Request) 응답을 받는다.
        And: '구간을 등록할 수 없습니다.' 오류 메시지를 검증한다.
        
        
   Scenario: 상하행종점역 둘 다 이미 등록된 역을 등록한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 노선과 1개의 구간이 등록되어 있다.
        When: 기존 구간과 같은 구간을 등록한다.
        Then: 실패(400 Bad Request) 응답을 받는다.
        And: '구간을 등록할 수 없습니다.' 오류 메시지를 검증한다.
   
    
   Scenario: 상하행종점역 둘 중 하나도 포함되어 있지 않은 역을 등록한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 노선과 2개의 구간이 등록되어 있다.
        When: 상하행종점역이 기존 구간 어디에도 포함되어 있지 않은 구간을 등록한다.
        Then: 실패(400 Bad Request) 응답을 받는다.
        And: '구간을 등록할 수 없습니다.' 오류 메시지를 검증한다. 
        
        
   Scenario: 구간을 조회한다.
        Given: 6개의 지하철역을 등록한다.
        And: 1개의 노선을 등록한다.
        And: 5개의 구간을 등록한다.
        When: 노선을 조회한다.
        Then: 성공(200 OK) 응답을 받는다.
        And: 지하철역 아이디 리스트의 순서를 검증한다.
```

```
Feature: 구간 제거 기능


    Scenario: 구간을 제거한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 노선이 등록되어 있다.
        And: 2개의 구간이 등록되어 있다.
        When: 구간을 제거한다.
        Then: 성공(200 OK) 응답을 받는다.
        
    
    Scenario: 첫 번째 구간을 삭제한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 지하철 노선이 등록되어 있다.
        And: 2개의 구간이 등록되어 있다.
        When: 첫 번째 구간(상행 종점역)을 삭제한다.
        Then: 실패(400 Bad Request) 응답을 받는다.
        And: '구간을 삭제할 수 없습니다.' 메시지를 응답받는다.
        
        
    Scenario: 중간 구간을 삭제한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 지하철 노선이 등록되어 있다.
        And: 3개의 구간이 등록되어 있다.
        When: 두 번째 구간(상행 종점역 & 하행 종점역 둘 중 하나라도 속하지 않은 구간)을 삭제한다.
        Then: 실패(400 Bad Request) 응답을 받는다.
        And: '구간을 삭제할 수 없습니다.' 메시지를 응답받는다.
        
    
    Scenario: 단일 구간으로 이루어진 노선에서 구간을 삭제한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 노선이 등록되어 있다.
        And: 1개의 구간이 등록되어 있다.
        When: 구간을 삭제한다.
        Then: 실패(400 Bad Request) 응답을 받는다.
        And: '구간을 삭제할 수 없습니다.' 메시지를 응답받는다.
        
        
    Scenario: 노선에 등록되어있지 않은 역을 제거한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 1개의 노선이 등록되어 있다.
        When: 구간을 삭제한다.
        Then: 실패(400 Bad Request) 응답을 받는다.
        And: '구간을 삭제할 수 없습니다.' 메시지를 응답받는다.
```

```
Feature: 경로 조회 기능

    Scenario: 지하철 경로를 조회한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 3개의 노선이 등록되어 있다.
        When: 경로를 조회한다.
        Then: 성공(200 OK) 응답을 받는다.
        And: 지하철역 목록을 검증한다.
        And: 경로 거리를 검증한다.
        
        
    Scenario: 출발역과 도착역이 동일한 경로를 조회한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 3개의 노선이 등록되어 있다.
        When: 출발역과 도착역이 동일한 경로를 조회한다.
        Then: 실패(400 Bad Request) 응답을 받는다.
        And: '지하철 경로를 조회할 수 없습니다.' 메시지를 응답받는다.
        
        
    Scenario: 출발역과 도착역이 연결이 되어 있지 않은 경로를 조회한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 3개의 노선이 등록되어 있다.
        When: 출발역과 도착역이 연결이 되어 있지 않은 경로를 조회한다.
        Then: 실패(400 Bad Request) 응답을 받는다.
        And: '지하철 경로를 조회할 수 없습니다.' 메시지를 응답받는다.


    Scenario: 존재하지 않는 출발역이나 도착역을 조회한다.
        Given: 5개의 지하철역이 등록되어 있다.
        And: 3개의 노선이 등록되어 있다.
        When: 존재하지 않는 출발역이나 도착역을 조회한다.
        Then: 실패(400 Bad Request) 응답을 받는다.
        And: '지하철역을 찾을 수 없습니다.' 메시지를 응답받는다.
```